

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-TW" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-TW" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7. XY 點散佈圖 &mdash; GMT 教學手冊v1.2</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
 <link href='https://fonts.googleapis.com/css?family=Varela Round' rel='stylesheet'>
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜尋" href="search.html" />
    <link rel="next" title="8. 色階檔的編修與呈現" href="editing_cpt_colorbar.html" />
    <link rel="prev" title="6. 畫筆與調色技巧" href="pen_and_painting.html" /> 
</head>
 <script type="text/javascript">var _jf = _jf || [];_jf.push(['p','39630']);_jf.push(['_setFont','sourcehansans-tc-light','css','.sourcehansans-tc-light']);_jf.push(['_setFont','sourcehansans-tc-light','alias','sourcehansans-tc']);_jf.push(['_setFont','sourcehansans-tc-light','weight',200]);_jf.push(['_setFont','sourcehansans-tc-regular','css','.sourcehansans-tc-regular']);_jf.push(['_setFont','sourcehansans-tc-regular','alias','sourcehansans-tc']);_jf.push(['_setFont','sourcehansans-tc-regular','weight',400]);_jf.push(['_setFont','cwtexqyuan','css','.cwtexqyuan']);_jf.push(['_setFont','cwtexqyuan','alias','cwtexqyuan']);_jf.push(['_setFont','cwtexqyuan','weight',500]);_jf.push(['_setFont','xingothic-tc-w7','css','.xingothic-tc-w7']);_jf.push(['_setFont','xingothic-tc-w7','alias','xingothic-tc']);_jf.push(['_setFont','xingothic-tc-w7','weight',700]);_jf.push(['_setFont','jf-jinxuan-medium','css','.jf-jinxuan-medium']);_jf.push(['_setFont','jf-jinxuan-medium','alias','jf-jinxuan']);_jf.push(['_setFont','jf-jinxuan-medium','weight',600]);(function(f,q,c,h,e,i,r,d){var k=f._jf;if(k.constructor===Object){return}var l,t=q.getElementsByTagName("html")[0],a=function(u){for(var v in k){if(k[v][0]==u){if(false===k[v][1].call(k)){break}}}},j=/\S+/g,o=/[\t\r\n\f]/g,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,g="".trim,s=g&&!g.call("\uFEFF\xA0")?function(u){return u==null?"":g.call(u)}:function(u){return u==null?"":(u+"").replace(b,"")},m=function(y){var w,z,v,u,x=typeof y==="string"&&y;if(x){w=(y||"").match(j)||[];z=t[c]?(" "+t[c]+" ").replace(o," "):" ";if(z){u=0;while((v=w[u++])){if(z.indexOf(" "+v+" ")<0){z+=v+" "}}t[c]=s(z)}}},p=function(y){var w,z,v,u,x=arguments.length===0||typeof y==="string"&&y;if(x){w=(y||"").match(j)||[];z=t[c]?(" "+t[c]+" ").replace(o," "):"";if(z){u=0;while((v=w[u++])){while(z.indexOf(" "+v+" ")>=0){z=z.replace(" "+v+" "," ")}}t[c]=y?s(z):""}}},n;k.push(["_eventActived",function(){p(h);m(e)}]);k.push(["_eventInactived",function(){p(h);m(i)}]);k.addScript=n=function(u,A,w,C,E,B){E=E||function(){};B=B||function(){};var x=q.createElement("script"),z=q.getElementsByTagName("script")[0],v,y=false,D=function(){x.src="";x.onerror=x.onload=x.onreadystatechange=null;x.parentNode.removeChild(x);x=null;a("_eventInactived");B()};if(C){v=setTimeout(function(){D()},C)}x.type=A||"text/javascript";x.async=w;x.onload=x.onreadystatechange=function(G,F){if(!y&&(!x.readyState||/loaded|complete/.test(x.readyState))){y=true;if(C){clearTimeout(v)}x.src="";x.onerror=x.onload=x.onreadystatechange=null;x.parentNode.removeChild(x);x=null;if(!F){setTimeout(function(){E()},200)}}};x.onerror=function(H,G,F){if(C){clearTimeout(v)}D();return true};x.src=u;z.parentNode.insertBefore(x,z)};a("_eventPreload");m(h);n(r,"text/javascript",false,3000)})(this,this.document,"className","jf-loading","jf-active","jf-inactive","//ds.justfont.com/js/stable/v/5.0.2/id/166657211014");</script>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> GMT 教學手冊
          

          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
 <div class="langcenter"> <nav class="menu"> <ul class="clearfix"> <li class="current-item"> <a href="#" class="clicker">中文 (台灣) <span class="arrow">&#9660;</span></a> <ul class="sub-menu"> <li><a href="scatter_plot.html">中文 (台灣)</a></li> <li><a href="en/scatter_plot.html">English</a></li> </ul> </li> </ul> </nav> </div>
 </div>
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro_install.html">1. GMT 簡介與安裝</a></li>
<li class="toctree-l1"><a class="reference internal" href="software.html">2. 推薦搭配的軟體或套件</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_concept.html">3. 基本概念與名詞</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_first_map.html">4. 製作第一張地圖</a></li>
<li class="toctree-l1"><a class="reference internal" href="coloring_topography.html">5. 為地形圖上色</a></li>
<li class="toctree-l1"><a class="reference internal" href="pen_and_painting.html">6. 畫筆與調色技巧</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">7. XY 點散佈圖</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">7.1. 目標</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">7.2. 使用的指令與概念</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">7.3. 前置作業</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id7">7.4. 操作流程</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id9">7.5. 指令稿</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id10">7.6. 習題</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="editing_cpt_colorbar.html">8. 色階檔的編修與呈現</a></li>
<li class="toctree-l1"><a class="reference internal" href="layout_design.html">9. 版面設計與地圖的幾何布局</a></li>
<li class="toctree-l1"><a class="reference internal" href="hillshading.html">10. 暈渲地圖</a></li>
<li class="toctree-l1"><a class="reference internal" href="contour_and_profile.html">11. 等高線地圖及地形剖面</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot_vector_data.html">12. 繪製向量式資料</a></li>
<li class="toctree-l1"><a class="reference internal" href="map_elements.html">13. 加入地圖元素</a></li>
<li class="toctree-l1"><a class="reference internal" href="view3d.html">14. 3D 視圖</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_calculator.html">15. 網格計算機</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_img_processing.html">16. 基本影像處理</a></li>
<li class="toctree-l1"><a class="reference internal" href="stat_histogram.html">17. 輸出統計資訊與直方圖</a></li>
<li class="toctree-l1"><a class="reference internal" href="regression_basics.html">18. 進行迴歸分析</a></li>
<li class="toctree-l1"><a class="reference internal" href="focal_mech.html">19. 繪製震源機制解</a></li>
<li class="toctree-l1"><a class="reference internal" href="draping.html">20. 在 3D 地形上覆蓋地圖</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_credit.html">21. 資料來源與誌謝</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_index.html">22. 指令索引</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">23. 章節地圖索引</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GMT 教學手冊</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>7. XY 點散佈圖</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
 <a href="https://github.com/whyjz/GMT-tutorials"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="xy">
<h1>7. XY 點散佈圖<a class="headerlink" href="#xy" title="本標題的永久連結">¶</a></h1>
<p>在數據分析中最重要也最常用的圖表形式，非 XY 散佈圖莫屬。雖然 GMT 是繪製地圖的專門工具，但它仍然能處理跟地理空間無關的資料，並做出精美的視覺化分析。在本章中，將會解說用來繪製點、線、面的重要指令 <code class="docutils literal notranslate"><span class="pre">psxy</span></code>，以及一些衍伸的作圖設定技巧，這些技巧實際上在處理地理空間資料時，仍然適用。</p>
<div class="section" id="id1">
<h2>7.1. 目標<a class="headerlink" href="#id1" title="本標題的永久連結">¶</a></h2>
<p>使用台灣<em>中央氣象局</em>的氣象資料，製作風速 (Wind Speed) 對氣溫 (Temperature) 的 XY 散佈圖。圖中使用了 2016 年 1 月，位於竹子湖 (Zhuzihu) 與蘇澳 (Su’ao) 兩個測站的每日資料，並用不同顏色與不同標記表示。在圖中可以看出幾點有趣的事情：</p>
<ul class="simple">
<li>風速與氣溫看來呈現負相關，也就是說，氣溫越低，風速越快。</li>
<li>一般來說，竹子湖的氣溫要比蘇澳來得冷一點，而且蘇澳在一月份還有超過攝氏 20 度以上的日子。</li>
<li>竹子湖有一天的溫度掉到了攝氏 0 度以下。事實上，這天是竹子湖睽違了 11 年後，再度下雪的日子<a class="footnote-reference" href="#id12" id="id2">[1]</a>。這些受「超級寒流」影響的資料點，看起來就像是整個負相關趨勢的離群值。</li>
</ul>
<img alt="_images/windspeed_vs_temperature.png" id="id3" src="_images/windspeed_vs_temperature.png" />
<p>直接觀看<a class="reference internal" href="#id9">指令稿</a></p>
</div>
<div class="section" id="id4">
<h2>7.2. 使用的指令與概念<a class="headerlink" href="#id4" title="本標題的永久連結">¶</a></h2>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">psxy</span></code> - <strong>繪製點、線與多邊形；輸出檔頭與檔尾</strong></li>
<li><code class="docutils literal notranslate"><span class="pre">psbasemap</span></code> - <strong>設定繪圖區、座標軸與邊框</strong></li>
<li><code class="docutils literal notranslate"><span class="pre">pstext</span></code> - <strong>在圖上標記文字</strong></li>
<li>外部指令 <code class="docutils literal notranslate"><span class="pre">echo</span></code> - <strong>把資料輸入到管線命令中</strong></li>
<li>GMT 共用選項：<code class="docutils literal notranslate"><span class="pre">-JX</span></code> (直角座標作圖)</li>
<li>如何輸入 ASCII (純文字) 格式的資料到 GMT 中</li>
<li>如何從螢幕或腳本輸入資料到 GMT 中 (標準輸入重導向)</li>
<li>繪製 XY 散佈圖</li>
<li>設定座標軸標籤與特殊文字的處理方法</li>
<li>製作簡易的圖例</li>
<li>正確設定 <code class="docutils literal notranslate"><span class="pre">-O</span></code> 與 <code class="docutils literal notranslate"><span class="pre">-K</span></code> 的小技巧</li>
</ul>
</div>
<div class="section" id="id5">
<h2>7.3. 前置作業<a class="headerlink" href="#id5" title="本標題的永久連結">¶</a></h2>
<p>我們這次使用的資料是<strong>中央氣象局的天氣觀測紀錄</strong>。這些資料可以從中央氣象局建置的「<a class="reference external" href="http://e-service.cwb.gov.tw/HistoryDataQuery/index.jsp">觀測資料查詢系統</a>」取得。選擇位於臺北市 (TaipeiCity) 的竹子湖 (ZHUZIHU) 測站，資料格式為「月報表」，時間為 2016 年 1 月，按下查詢鈕後，應該會看到如下頁面：</p>
<img alt="_images/scatter_plot_fig1.png" src="_images/scatter_plot_fig1.png" />
<p>把表格全選後複製貼上到 <em>Microsoft Excel</em> 或 <em>Libre Office Calc</em> 之類的試算表軟體，資料就會自動對到不同的欄位。接下來，你可以選擇以下兩種作法的任一種：</p>
<ol class="arabic">
<li><p class="first">直接在試算表軟體中刪除不要的資料，只留「氣溫」與「風速」兩欄。把第一列「檔頭列」(也就是欄位名稱) 也刪除，接著「另存新檔」為逗號分隔檔 (<code class="docutils literal notranslate"><span class="pre">.csv</span></code> 檔)。</p>
</li>
<li><p class="first">把第一列「檔頭列」(欄位名稱) 刪除，「另存新檔」為逗號分隔檔 (<code class="docutils literal notranslate"><span class="pre">.csv</span></code> 檔)，再使用 shell 指令操作逗號分隔檔。例如在大部分的 Linux shell 下，可以使用</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cut -d <span class="s1">&#39;,&#39;</span> -f <span class="m">8</span>,17 你的檔案.csv &gt; 新檔案.csv
</pre></div>
</div>
<p>其中第 8 欄和第 17 欄分別就是「氣溫」與「風速」的資料。</p>
</li>
</ol>
<p>處理完的 <code class="docutils literal notranslate"><span class="pre">.csv</span></code> 檔可以直接使用文字編輯器打開，以竹子湖的資料為例，前幾欄應該會是這樣</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">14</span>.6,3.6
<span class="m">15</span>.7,0.2
<span class="m">16</span>,0.3
<span class="m">17</span>.7,0.3
<span class="m">17</span>.8,0.7
<span class="c1"># ....以下略....</span>
<span class="c1"># 第 1 欄：氣溫 (攝氏)；第 2 欄：風速 (秒/公尺)</span>
</pre></div>
</div>
<p>如此一來資料就整理成 GMT 的輸入格式了。再次使用同樣流程，可以取得位於宜蘭縣 (YiLanCounty) 的蘇澳 (SU-AO) 測站的相同資料，把它們命名為 <code class="docutils literal notranslate"><span class="pre">zzh.txt</span></code> (竹子湖) 與 <code class="docutils literal notranslate"><span class="pre">suao.txt</span></code> (蘇澳)。GMT 並不依據副檔名讀取純文字資料，但是相對的，它只接受兩種欄位分隔符號：「<strong>空格</strong>」與「<strong>逗號</strong>」。在把資料輸入 GMT 前，務必確認你的資料能被 GMT 正確讀取。</p>
<div class="admonition tip">
<p class="first admonition-title">小訣竅</p>
<p class="last">事實上，你也可以不用刪除任何檔頭和欄位，只要把資料存成 <code class="docutils literal notranslate"><span class="pre">.csv</span></code> 檔或其他 GMT 能接受的純文字格式，GMT
自己就有帶有功能選項來讀取資料表中的特定欄位，請參考 GMT 官方手冊或<strong>之後的章節</strong>。</p>
</div>
<p>為了方便起見，你也可以直接從以下連結取得本章節會使用的檔案：</p>
<p><a class="reference download internal" download="" href="_downloads/c74be33b2cd28b6ab59dd2b1f2bd8ab5/zzh.txt"><code class="xref download docutils literal notranslate"><span class="pre">zzh.txt</span></code></a></p>
<p><a class="reference download internal" download="" href="_downloads/f9aebd5796de0f5f6d1e785d83479cff/suao.txt"><code class="xref download docutils literal notranslate"><span class="pre">suao.txt</span></code></a></p>
</div>
<div class="section" id="id7">
<h2>7.4. 操作流程<a class="headerlink" href="#id7" title="本標題的永久連結">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">psxy</span></code> 是用來把點資料描繪到地圖上的工具。對於一般不與地理座標相關的資料，在畫圖時的 <code class="docutils literal notranslate"><span class="pre">-J</span></code> 選項是
<code class="docutils literal notranslate"><span class="pre">-JX</span></code>，GMT 會使用單純的直角座標來畫圖。至於要怎麼決定 <code class="docutils literal notranslate"><span class="pre">-R</span></code> 的範圍？你可以先用文字編輯器稍微查看一下所有資料的數值，第一欄會被解讀成 X 值，第二欄則會被解讀成 Y 值，因此，所有的資料都會落在
<code class="docutils literal notranslate"><span class="pre">-1/20/0/8</span></code> 這個區間內。馬上來畫畫看我們的資料：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ psxy zzh.txt -R-1/20/0/8 -JX15c -P -Bafg &gt; zzh.ps
</pre></div>
</div>
<img alt="_images/scatter_plot_fig2.png" src="_images/scatter_plot_fig2.png" />
<p>雖然資料是畫上去了，不過這並不是我們想要的樣子…這是因為 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 的預設繪圖模式為<strong>折線圖</strong>，會把所有的點以線連接起來，如果我們只想要 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 畫點，必須要加上 <code class="docutils literal notranslate"><span class="pre">-S</span></code> 選項。此選項除了使 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 轉換成<strong>散佈圖</strong>模式外，還可以使用以下語法設定資料點的樣式：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-S代號<span class="o">[</span>尺寸<span class="o">]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">代號</span></code> 為單一字元的符號，而尺寸指定的東西則依符號的不同而不同。完整的代號列表可以在<a class="reference external" href="http://gmt.soest.hawaii.edu/doc/5.1.2/psxy.html#optional-arguments">psxy 的說明頁面</a>找到。舉個例子，<code class="docutils literal notranslate"><span class="pre">-Sc0.25c</span></code> 是把資料點設為直徑為 <code class="docutils literal notranslate"><span class="pre">0.25cm</span></code>
的圓形 (<code class="docutils literal notranslate"><span class="pre">c</span></code>，circle)，而 <code class="docutils literal notranslate"><span class="pre">-Sd3c</span></code> 則是外接圓直徑為 <code class="docutils literal notranslate"><span class="pre">3cm</span></code> 的菱形 (<code class="docutils literal notranslate"><span class="pre">d</span></code>，diamond)。<strong>如果不給尺寸的話，GMT 會尋找資料檔案中的第三欄，並且以其數值當作對應的資料點的尺寸</strong>。這個規則在我們要畫不同大小的資料點時，非常方便。在這裡，我們的資料只有 X 與 Y 兩個屬性，因此把所有的點設成一樣大小就行了。</p>
<p>另外，你會發現繪圖區目前是 15cm x 15cm 的正方形，如果你想要任意調整 X 或 Y 軸的長度的話，需要在 <code class="docutils literal notranslate"><span class="pre">-JX</span></code> 後分開指定，如 <code class="docutils literal notranslate"><span class="pre">-JX15c/10c</span></code> 會把 X 軸設成 15cm，Y 軸設成 10cm。讓我們使用以上新增的選項，重畫一次看看：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ psxy zzh.txt -R-1/20/0/8 -JX15c/10c -Sc0.35d <span class="se">\</span>
               -G#58C73A -W0.03c,black -P -Baf &gt; zzh.ps
<span class="c1"># -G: 標記填色</span>
<span class="c1"># -W: 標記外框畫筆</span>
</pre></div>
</div>
<img alt="_images/scatter_plot_fig3.png" src="_images/scatter_plot_fig3.png" />
<p>選擇了適當的標記樣式與填色，與粗一點的標記框線，看起來就會美觀許多。</p>
<p><code class="docutils literal notranslate"><span class="pre">psxy</span></code> 除了可以從檔案中讀取資料外，也可以從標準輸入 (stdin) 讀取資料。這樣一來，我們就可以直接在腳本或命令列中給定座標點。常見的作法有兩種：</p>
<ol class="arabic">
<li><p class="first">使用管線命令，把前一個指令的輸出傳給 <code class="docutils literal notranslate"><span class="pre">psxy</span></code>。例如在各種作業系統終端機都有的 <code class="docutils literal notranslate"><span class="pre">echo</span></code> 指令：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">echo</span> <span class="s2">&quot;10.2 3.2&quot;</span> <span class="p">|</span> psxy -選項們 &gt; out.ps
</pre></div>
</div>
<p>如此一來，(10.2, 3.2) 就會被當成座標點畫在圖上。</p>
</li>
<li><p class="first">使用標準輸入重導向搭配結束的輸入字元 (<code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> 符號)：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ psxy -選項們 &gt; out.ps <span class="s">&lt;&lt; END</span>
<span class="s">...任意的多行資料...</span>
<span class="s">END</span>
</pre></div>
</div>
<p>在 <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> 符號後可以為任意的字符串，此例為 <code class="docutils literal notranslate"><span class="pre">END</span></code>。從下一行開始，一直到第二個 <code class="docutils literal notranslate"><span class="pre">END</span></code> 的前一行，都會被當作 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 的輸入資訊。</p>
</li>
</ol>
<p>為了完成本章目標，我們需要在 <em>x = 0</em> 之處畫一條灰色的垂直虛線，以表明有一個點溫度低於零度。運用
<code class="docutils literal notranslate"><span class="pre">psxy</span></code> 預設的繪線模式與上述的第二種作法，就可以簡單的畫出。在以下的腳本中，我們順便把第二組數據也畫上去了，使用標記是藍色的菱形：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== 設定變數 ====</span>
<span class="nv">zzh</span><span class="o">=</span><span class="s1">&#39;zzh.txt&#39;</span>
<span class="nv">suao</span><span class="o">=</span><span class="s1">&#39;suao.txt&#39;</span>
<span class="nv">zzh_style</span><span class="o">=</span><span class="s1">&#39;-Sc0.35c -G#58C73A -W0.03c,black&#39;</span>
<span class="nv">suao_style</span><span class="o">=</span><span class="s1">&#39;-Sd0.35c -G#3A6BC7 -W0.03c,black&#39;</span>
<span class="nv">out_ps</span><span class="o">=</span><span class="s1">&#39;windspeed_vs_temperature.ps&#39;</span>
<span class="c1"># ==== 繪點 ====</span>
psxy <span class="nv">$zzh</span>  -R-1/23/0/7 -JX15c/10c -P -K <span class="nv">$zzh_style</span> -Baf &gt; <span class="nv">$out_ps</span>
psxy <span class="nv">$suao</span> -R -J -O -K <span class="nv">$suao_style</span> &gt;&gt; <span class="nv">$out_ps</span>
<span class="c1"># ==== 灰色垂直虛線 ====</span>
psxy       -R -J -O -W0.03c,100,-- &gt;&gt; <span class="nv">$out_ps</span> <span class="s">&lt;&lt; LINEEND</span>
<span class="s">0 0</span>
<span class="s">0 7</span>
<span class="s">LINEEND</span>
</pre></div>
</div>
<p>這條灰色的線寬度是 0.03cm，並且連接 (0, 0) 與 (0, 7) 兩點。</p>
<img alt="_images/scatter_plot_fig4.png" src="_images/scatter_plot_fig4.png" />
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">psxy</span></code> <strong>無法同時畫線又畫點</strong>。如果你有這方面的需求 (例如繪製折線圖)，需要使用兩次
<code class="docutils literal notranslate"><span class="pre">psxy</span></code> 指令，畫完線後再把點也標上去。</p>
</div>
<p>不知你是否覺得，以上腳本實在說不上美觀，要改動也很麻煩？問題的原因，出在第一個 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 指令。為了設定 <code class="docutils literal notranslate"><span class="pre">-R</span></code>、<code class="docutils literal notranslate"><span class="pre">-J</span></code> 與一些額外設定，第一個 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 指令硬是會比第二個 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 要長。考慮到這兩個指令在繪圖中有等量的效果 (都是畫上一組數據的散佈圖)，如果有更適當的方式，能夠先把該設定的選項設定好，讓兩個 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 的效果看起來更直觀就好了。</p>
<p>這時候，總算輪到 <code class="docutils literal notranslate"><span class="pre">psbasemap</span></code> 指令上場！<code class="docutils literal notranslate"><span class="pre">psbasemap</span></code> 指令是<strong>專門用來設定底圖與邊框</strong>的指令，它不會在圖上畫上任何資料。在短的腳本中，我們可以透過其他指令附帶的 <code class="docutils literal notranslate"><span class="pre">-B</span></code> 或是其他選項來設定底圖與邊框，但是當腳本一長，或是當你想要調整許多有關的預設選項時，使用 <code class="docutils literal notranslate"><span class="pre">psbasemap</span></code> 可以讓你的腳本看起來更清晰易懂。讓我們再次回到這兩行指令</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>psxy <span class="nv">$zzh</span>  -R-1/23/0/7 -JX15c/10c -P -K <span class="nv">$zzh_style</span> -Baf &gt; <span class="nv">$out_ps</span>
psxy <span class="nv">$suao</span> -R -J -O -K <span class="nv">$suao_style</span> &gt;&gt; <span class="nv">$out_ps</span>
</pre></div>
</div>
<p>我們可以把地圖的通用選項移到 <code class="docutils literal notranslate"><span class="pre">psbasmap</span></code> 中，因此以上指令也可以寫成這樣</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>psbasemap -R-1/23/0/7 -JX15c/10c -P -K -Baf &gt; <span class="nv">$out_ps</span>
psxy <span class="nv">$zzh</span>  -R -J -O -K <span class="nv">$zzh_style</span>  &gt;&gt; <span class="nv">$out_ps</span>
psxy <span class="nv">$suao</span> -R -J -O -K <span class="nv">$suao_style</span> &gt;&gt; <span class="nv">$out_ps</span>
</pre></div>
</div>
<p>如此一來，兩行 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 指令各自的功用就一目了然：它們只是處理並繪製不同的資料點，但繪製的方法是相同的。你可以把所有選項與語法格式都互相對齊以求美觀，而所有通用的設定，包括 <code class="docutils literal notranslate"><span class="pre">-R</span></code>、<code class="docutils literal notranslate"><span class="pre">-J</span></code>、<code class="docutils literal notranslate"><span class="pre">-P</span></code>、<code class="docutils literal notranslate"><span class="pre">-B</span></code> 等，全部都丟到 <code class="docutils literal notranslate"><span class="pre">psbasemap</span></code> 就對了。</p>
<p>這樣設置還有一個好處：如果你有額外的繪圖指定想插入，只要確定它會擺在 <code class="docutils literal notranslate"><span class="pre">psbasemap</span></code> 之後，你就可以一律加上 <code class="docutils literal notranslate"><span class="pre">-O</span> <span class="pre">-K</span></code> 與 <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code> 符號，而不用煩惱這些疊加圖層的選項正不正確。你可以把 <code class="docutils literal notranslate"><span class="pre">psbasemap</span></code> 想成是長腳本的「起手式」，先設定好共用選項與 PostScript 語言的疊加設定，之後的指令只要專注在繪圖上就行了。類似的概念也可用在腳本的結尾，讓我們再看看這個指令：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>psxy       -R -J -O -W0.03c,100,-- &gt;&gt; <span class="nv">$out_ps</span> <span class="s">&lt;&lt; LINEEND</span>
<span class="s">0 0</span>
<span class="s">0 7</span>
<span class="s">LINEEND</span>
</pre></div>
</div>
<p>如果你還想在這個指令後方加入新的繪圖指令，這個指令就必須新增 <code class="docutils literal notranslate"><span class="pre">-K</span></code> 選項以取消結尾符 (EOF) 的寫入。在腳本很長然後又時常更動時，檢查 <code class="docutils literal notranslate"><span class="pre">-O</span> <span class="pre">-K</span></code> 有沒有加對位置會耗上許多時間。幸好，<code class="docutils literal notranslate"><span class="pre">psxy</span></code> 指令提供了一個方便的選項 <code class="docutils literal notranslate"><span class="pre">-T</span></code>，專門用來設定腳本結尾：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>psxy       -R -J -O -K -W0.03c,100,-- &gt;&gt; <span class="nv">$out_ps</span> <span class="s">&lt;&lt; LINEEND</span>
<span class="s">0 0</span>
<span class="s">0 7</span>
<span class="s">LINEEND</span>
psxy -R -J -O -T &gt;&gt; <span class="nv">$out_ps</span>
</pre></div>
</div>
<p>加上 <code class="docutils literal notranslate"><span class="pre">-T</span></code> 後，<code class="docutils literal notranslate"><span class="pre">psxy</span></code> 不會讀取任何檔案；相對的，它唯一會寫入 <code class="docutils literal notranslate"><span class="pre">.ps</span></code> 檔的東西就只有 EOF。因此，相對於「起手式」，這一行的作用相當於為你的圖檔「關門」，只要你確定這一行擺在你的腳本最後，那們中間的指令只要一概都加上 <code class="docutils literal notranslate"><span class="pre">-O</span> <span class="pre">-K</span></code>，繪圖就不會有問題。</p>
<p>現在腳本的第一個指令是以 <code class="docutils literal notranslate"><span class="pre">psbasemap</span></code> 開頭。當然，我們可以在這個指令中一併設定標題與座標軸標籤。在「<a class="reference internal" href="making_first_map.html"><span class="doc">製作第一張地圖</span></a>」中，我們有提到標題可以使用 <code class="docutils literal notranslate"><span class="pre">-B+t</span></code> 添加，而在「<a class="reference internal" href="editing_cpt_colorbar.html"><span class="doc">色階檔的編修與呈現</span></a>」中，我們也提到了要使用 <code class="docutils literal notranslate"><span class="pre">-B[x或y]+l</span></code> 添加座標軸的標籤。因此，我們就來添加一些文字說明吧：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== 設定變數 ====</span>
<span class="nv">zzh</span><span class="o">=</span><span class="s1">&#39;zzh.txt&#39;</span>
<span class="nv">suao</span><span class="o">=</span><span class="s1">&#39;suao.txt&#39;</span>
<span class="nv">zzh_style</span><span class="o">=</span><span class="s1">&#39;-Sc0.35c -G#58C73A -W0.03c,black&#39;</span>
<span class="nv">suao_style</span><span class="o">=</span><span class="s1">&#39;-Sd0.35c -G#3A6BC7 -W0.03c,black&#39;</span>
<span class="nv">out_ps</span><span class="o">=</span><span class="s1">&#39;windspeed_vs_temperature.ps&#39;</span>
<span class="c1"># ==== 版面與作圖區設定 ====</span>
<span class="c1"># -Baf 現在拆成了 -Bxaf 與 -Bya2f，</span>
<span class="c1"># 你可以分開給定 x 軸與 y 軸的 a、f、g 選項！</span>
psbasemap -R-1/23/0/7 -JX15c/10c -P -K <span class="se">\</span>
          -B+t<span class="s2">&quot;January 2016&quot;</span> <span class="se">\</span>
          -Bxaf+l<span class="s2">&quot;Temperature (degree C)&quot;</span> <span class="se">\</span>
          -Bya2f+l<span class="s2">&quot;Wind Speed (m s-1)&quot;</span> &gt; <span class="nv">$out_ps</span>
<span class="c1"># ==== 繪點 ====</span>
psxy <span class="nv">$zzh</span>  -R -J -O -K <span class="nv">$zzh_style</span>  &gt;&gt; <span class="nv">$out_ps</span>
psxy <span class="nv">$suao</span> -R -J -O -K <span class="nv">$suao_style</span> &gt;&gt; <span class="nv">$out_ps</span>
<span class="c1"># ==== 灰色垂直虛線 ====</span>
psxy       -R -J -O -K -W0.03c,100,-- &gt;&gt; <span class="nv">$out_ps</span> <span class="s">&lt;&lt; LINEEND</span>
<span class="s">0 0</span>
<span class="s">0 7</span>
<span class="s">LINEEND</span>
<span class="c1"># ==== 關門 (寫入 EOF) ====</span>
psxy -R -J -O -T &gt;&gt; <span class="nv">$out_ps</span>
</pre></div>
</div>
<p>以上腳本的出圖如下：</p>
<img alt="_images/scatter_plot_fig5.png" src="_images/scatter_plot_fig5.png" />
<p>嗯，座標軸標籤會同時出現在上下及左右兩邊，看起來有點多餘；另外，縱軸的單位 <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">s-1</span></code> (秒/公尺)
的 <code class="docutils literal notranslate"><span class="pre">-1</span></code> 應該要上標，才是正確的寫法。除此之外，如果 <code class="docutils literal notranslate"><span class="pre">degree</span> <span class="pre">C</span></code> 能夠直接表示成 <code class="docutils literal notranslate"><span class="pre">°C</span></code>
的話，更顯得簡潔有力。要做到以上修改並不困難，首先，我們可以先只畫左邊和下方的座標軸，然後右邊和上方的座標軸交給第二個 <code class="docutils literal notranslate"><span class="pre">psbasemap</span></code> 來畫，就可以讓座標軸只出現一次。如果要在文字中顯示上下標，需要加上 <strong>GMT 專用的控制字元</strong>
<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>。<code class="docutils literal notranslate"><span class="pre">&#64;+</span></code> 是上標，<code class="docutils literal notranslate"><span class="pre">&#64;-</span></code> 則是下標。被上下標控制字元包起來的字就會顯示為上下標。因此，我們只要把
<code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">s-1</span></code> 改成 <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">s&#64;+-1&#64;+</span></code> 即可。</p>
<div class="admonition tip">
<p class="first admonition-title">小訣竅</p>
<p class="last">嚴格說來，這兩個控制字元控制的是上下標的開啟與關閉，因此 <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">s&#64;+-1</span></code> 其實就能使 <code class="docutils literal notranslate"><span class="pre">-1</span></code> 上標。然而，筆者建議還是養成良好習慣，頭跟尾都加上控制字元，不只易於判讀跟修改，也跟
<a class="reference external" href="https://zh.wikipedia.org/wiki/LaTeX">LaTeX</a> 的語法概念類似。有關控制字元可操作的其他字串設定，請參考
<a class="reference external" href="http://gmt.soest.hawaii.edu/doc/5.1.2/GMT_Docs.html#character-escape-sequences">GMT Cookbook</a>。</p>
</div>
<p>至於攝氏度數的符號 (Degree sign) 就有點麻煩了。你需要參考<strong>字符編碼表</strong>中度數符號的位置，再以 <strong>8 進位的編碼</strong>輸入到字串內。
GMT 目前支援 <em>Standard</em> 與 <em>ISOLatin1</em> 兩種字符集，<a class="reference external" href="http://gmt.soest.hawaii.edu/doc/5.1.2/GMT_Docs.html#f-chart-of-octal-codes-for-characters">GMT Cookbook 中也有附上編碼表</a>可供參考。讓我們以 <em>ISOLatin1</em> 為例，度數符號位於 <code class="docutils literal notranslate"><span class="pre">\260</span></code> 的位置，因此 <code class="docutils literal notranslate"><span class="pre">degree</span> <span class="pre">C</span></code> 要改成 <code class="docutils literal notranslate"><span class="pre">\260C</span></code>。此外，我們還要利用長指令 <code class="docutils literal notranslate"><span class="pre">--PS_CHAR_ENCODING</span></code> 來指定 GMT 使用 <em>ISOLatin1</em> 字符編碼 (<code class="docutils literal notranslate"><span class="pre">ISOLatin1+</span></code>)。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">不指定 <code class="docutils literal notranslate"><span class="pre">--PS_CHAR_ENCODING</span></code> 的話，GMT 會使用預設的字符集。你也可以使用 <code class="docutils literal notranslate"><span class="pre">gmtset</span></code> 來調整預設的字符集，詳情請參閱<strong>之後的章節</strong>。</p>
</div>
<p>把以上更動整理到腳本中，「版面與作圖區設定」的部份就會變成這樣：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== 版面與作圖區設定 ====</span>
<span class="c1"># 注意第一個 psbasemap 只畫 -BWS！</span>
<span class="c1"># 第二個 psbasemap 則是 -Bne，只標座標軸，不顯示數值與標籤</span>
psbasemap -R-1/23/0/7 -JX15c/10c -P -K <span class="se">\</span>
          -BWS+t<span class="s2">&quot;January 2016&quot;</span> <span class="se">\</span>
          -Bxaf+l<span class="s2">&quot;Temperature (\260C)&quot;</span> <span class="se">\</span>
          -Bya2f+l<span class="s2">&quot;Wind Speed (m s@+-1@+)&quot;</span> <span class="se">\</span>
          --PS_CHAR_ENCODING<span class="o">=</span>ISOLatin1+ &gt; <span class="nv">$out_ps</span>
psbasemap  -R -J -O -K -Bne -Bxaf -Bya2f &gt;&gt; <span class="nv">$out_ps</span>
</pre></div>
</div>
<p>修改後的座標軸看起來就清爽多了！</p>
<img alt="_images/scatter_plot_fig6.png" src="_images/scatter_plot_fig6.png" />
<p>為了完成 XY 散佈圖，我們最後還得加上圖例，告訴讀者兩筆資料個別代表的意義。GMT 本身其實備有
<code class="docutils literal notranslate"><span class="pre">pslegend</span></code> 指令，用來繪製豪華的圖例，但在本例子中，我們將會示範另一種比較「土法煉鋼」，但是較為直觀的作法，這種作法對於簡單的圖例繪製是綽綽有餘。首先，我們要畫一個圖例框架，<code class="docutils literal notranslate"><span class="pre">psxy</span></code> 又會再次派上用場。如果要用 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 畫封閉的多邊形，只要指定所有的頂點座標，然後輔以 <code class="docutils literal notranslate"><span class="pre">-G</span></code> 指定填色，圖中所有的頂點就會連起來形成多邊形。以下的腳本片段，會以 (16, 5)、(22, 5)、(22, 6.5) 和 (16, 6.5) 為頂點，畫一個顏色為
<code class="docutils literal notranslate"><span class="pre">#E6F4F2</span></code> 的矩形。你可以把此片段插在「灰色垂直線」後，「關門指令」之前：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== 圖例框與圖例內容 ====</span>
psxy       -R -J -O -K -W0.05c,black -G#E6F4F2 &gt;&gt; <span class="nv">$out_ps</span> <span class="s">&lt;&lt; BOXEND</span>
<span class="s">16 5</span>
<span class="s">22 5</span>
<span class="s">22 6.5</span>
<span class="s">16 6.5</span>
<span class="s">BOXEND</span>
</pre></div>
</div>
<p>接下來，圖例框中需要放入之前使用過的符號與相對應的文字說明。符號同樣可以透過 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 繪製，這次我們使用 <code class="docutils literal notranslate"><span class="pre">echo</span></code> 指令與管線命令，來把前面用的符號畫到圖例框中。當然，你必須要自己決定符號出現的座標，如下所示：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s2">&quot;17 6.05&quot;</span> <span class="p">|</span> psxy -R -J -O -K <span class="nv">$zzh_style</span>  &gt;&gt; <span class="nv">$out_ps</span>
<span class="nb">echo</span> <span class="s2">&quot;17 5.45&quot;</span> <span class="p">|</span> psxy -R -J -O -K <span class="nv">$suao_style</span> &gt;&gt; <span class="nv">$out_ps</span>
</pre></div>
</div>
<p>畫完符號後，只要再標上文字說明，本章目標就大功告成。GMT 具有 <code class="docutils literal notranslate"><span class="pre">pstext</span></code> 指令，可以在指定的座標擺上給定的文字。<code class="docutils literal notranslate"><span class="pre">pstext</span></code> 的用法與 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 極為相似，只不過至少要有三欄輸入資料，<strong>前兩欄為 xy 座標，第三欄為欲顯示的文字</strong>。另外，<code class="docutils literal notranslate"><span class="pre">pstext</span></code> 還具有專有的文字格式調整選項
<code class="docutils literal notranslate"><span class="pre">-F</span></code>。<code class="docutils literal notranslate"><span class="pre">-F</span></code> 下比較重要的選項為</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-F+f<span class="o">[</span>字體大小,字體名稱,顏色<span class="o">]</span>+j<span class="o">[</span>對齊選項<span class="o">]</span>    <span class="c1"># 實際上不只這些，但其餘暫略</span>
</pre></div>
</div>
<p>其中 <code class="docutils literal notranslate"><span class="pre">字體大小,字體名稱,顏色</span></code> 的給定方法非常類似畫筆屬性 (請參閱<a class="reference internal" href="pen_and_painting.html"><span class="doc">畫筆與調色技巧</span></a>)，這裡我們暫時只改動字體大小為 14 點 (<code class="docutils literal notranslate"><span class="pre">14p</span></code>)，其餘維持預設。<code class="docutils literal notranslate"><span class="pre">對齊選項</span></code> 則是使用兩個大寫英文字來表達文字該怎麼對齊給定的座標點：</p>
<ul class="simple">
<li>L：靠左對齊、C：水平置中對齊、R：靠右對齊</li>
<li>B：靠底對齊、M：垂直置中對齊、T：靠頂對齊</li>
</ul>
<p>因此，<code class="docutils literal notranslate"><span class="pre">+jML</span></code> 即是「靠左對齊、垂直置中」。輸入文字的指定整體來看就如下所示，第一行會把
(18, 6.05) 設為 <code class="docutils literal notranslate"><span class="pre">Zhuzihu</span></code> (竹子湖) 文字的最左側，而第二行則是使用相同的指令設定
<code class="docutils literal notranslate"><span class="pre">Su'ao</span></code> (蘇澳) 文字出現的地方，圖例到此就設計完成！</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s2">&quot;18 6.05 Zhuzihu&quot;</span> <span class="p">|</span> pstext -R -J -O -K -F+f14p+jML &gt;&gt; <span class="nv">$out_ps</span>
<span class="nb">echo</span> <span class="s2">&quot;18 5.45 Su&#39;ao&quot;</span>   <span class="p">|</span> pstext -R -J -O -K -F+f14p+jML &gt;&gt; <span class="nv">$out_ps</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">小訣竅</p>
<p><code class="docutils literal notranslate"><span class="pre">pstext</span></code> 也可以讓使用者一次輸入多個字串，所以其實這兩行 <code class="docutils literal notranslate"><span class="pre">pstext</span></code> 指令也可以寫成</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pstext -R -J -O -K -F+f14p+jML &gt;&gt; <span class="nv">$out_ps</span> <span class="s">&lt;&lt; TEXTEND</span>
<span class="s">18 6.05 Zhuzihu</span>
<span class="s">18 5.45 Su&#39;ao</span>
<span class="s">TEXTEND</span>
</pre></div>
</div>
<p class="last">兩種寫法效果一模一樣，端看你喜歡哪種都可以。事實上，<code class="docutils literal notranslate"><span class="pre">pstext</span></code> 也接受多欄的輸入，這樣一來你可以把所有想輸入的文字都寫在檔案內，再分別指定不同的顏色、文字格式等等。詳細說明請參閱<strong>之後的章節</strong>。</p>
</div>
</div>
<div class="section" id="id9">
<h2>7.5. 指令稿<a class="headerlink" href="#id9" title="本標題的永久連結">¶</a></h2>
<p>本地圖的最終指令稿如下：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== 設定變數 ====</span>
<span class="nv">zzh</span><span class="o">=</span><span class="s1">&#39;zzh.txt&#39;</span>
<span class="nv">suao</span><span class="o">=</span><span class="s1">&#39;suao.txt&#39;</span>
<span class="nv">out_ps</span><span class="o">=</span><span class="s1">&#39;windspeed_vs_temperature.ps&#39;</span>
<span class="nv">zzh_style</span><span class="o">=</span><span class="s1">&#39;-Sc0.35c -G#58C73A -W0.03c,black&#39;</span>
<span class="nv">suao_style</span><span class="o">=</span><span class="s1">&#39;-Sd0.35c -G#3A6BC7 -W0.03c,black&#39;</span>

<span class="c1"># ==== 版面與作圖區設定 ====</span>
psbasemap -R-1/23/0/7 -JX15c/10c -P -K <span class="se">\</span>
          -BWS+t<span class="s2">&quot;January 2016&quot;</span> <span class="se">\</span>
          -Bxaf+l<span class="s2">&quot;Temperature (\260C)&quot;</span> <span class="se">\</span>
          -Bya2f+l<span class="s2">&quot;Wind Speed (m s@+-1@+)&quot;</span> <span class="se">\</span>
          --PS_CHAR_ENCODING<span class="o">=</span>ISOLatin1+ &gt; <span class="nv">$out_ps</span>
psbasemap  -R -J -O -K -Bne -Bxaf -Bya2f &gt;&gt; <span class="nv">$out_ps</span>

<span class="c1"># ==== 點散佈圖 ====</span>
psxy <span class="nv">$zzh</span>  -R -J -O -K <span class="nv">$zzh_style</span>  &gt;&gt; <span class="nv">$out_ps</span>
psxy <span class="nv">$suao</span> -R -J -O -K <span class="nv">$suao_style</span> &gt;&gt; <span class="nv">$out_ps</span>

<span class="c1"># ==== 灰色垂直線 ====</span>
psxy       -R -J -O -K -W0.03c,100,-- &gt;&gt; <span class="nv">$out_ps</span> <span class="s">&lt;&lt; LINEEND</span>
<span class="s">0 0</span>
<span class="s">0 7</span>
<span class="s">LINEEND</span>

<span class="c1"># ==== 圖例框與圖例內容 ====</span>
psxy       -R -J -O -K -W0.05c,black -G#E6F4F2 &gt;&gt; <span class="nv">$out_ps</span> <span class="s">&lt;&lt; BOXEND</span>
<span class="s">16 5</span>
<span class="s">22 5</span>
<span class="s">22 6.5</span>
<span class="s">16 6.5</span>
<span class="s">BOXEND</span>
<span class="nb">echo</span> <span class="s2">&quot;17 6.05&quot;</span> <span class="p">|</span> psxy -R -J -O -K <span class="nv">$zzh_style</span>  &gt;&gt; <span class="nv">$out_ps</span>
<span class="nb">echo</span> <span class="s2">&quot;17 5.45&quot;</span> <span class="p">|</span> psxy -R -J -O -K <span class="nv">$suao_style</span> &gt;&gt; <span class="nv">$out_ps</span>
<span class="nb">echo</span> <span class="s2">&quot;18 6.05 Zhuzihu&quot;</span> <span class="p">|</span> pstext -R -J -O -K -F+f14p+jML &gt;&gt; <span class="nv">$out_ps</span>
<span class="nb">echo</span> <span class="s2">&quot;18 5.45 Su&#39;ao&quot;</span>   <span class="p">|</span> pstext -R -J -O -K -F+f14p+jML &gt;&gt; <span class="nv">$out_ps</span>

<span class="c1"># ==== 關門 (寫入 EOF) ====</span>
psxy -R -J -O -T &gt;&gt; <span class="nv">$out_ps</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">「以兩個不同氣象站的 2016 年 1 月風速與氣溫觀測資料，繪製 XY 散佈圖。圖例、座標軸已清楚的標示，圖中也可清楚看到 Zhuzihu 測站有一個測量點位於攝氏 0 度的灰色虛線左側。」</p>
</div>
<p>觀看<a class="reference internal" href="#id3">最終版圖片</a></p>
</div>
<div class="section" id="id10">
<h2>7.6. 習題<a class="headerlink" href="#id10" title="本標題的永久連結">¶</a></h2>
<ol class="arabic simple">
<li>本章使用的資料事實上是依照時間排序的，每日只有一個測量數值。因此，請利用本章中提供的數據，畫出竹子湖與蘇澳測站在 2016 年 1 月份的氣溫每日變化的<strong>折線圖</strong>。</li>
<li>請利用 <code class="docutils literal notranslate"><span class="pre">psxy</span></code> 畫出「<a class="reference external" href="https://zh.wikipedia.org/wiki/%E5%A4%A7%E8%A1%9B%E6%98%9F">大衛之星</a>」。</li>
</ol>
<table class="docutils footnote" frame="void" id="id12" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td><a class="reference external" href="http://www.appledaily.com.tw/realtimenews/article/new/20160124/782086/">頻果日報，2016 年 1 月 24 日新聞</a>。</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="editing_cpt_colorbar.html" class="btn btn-neutral float-right" title="8. 色階檔的編修與呈現" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pen_and_painting.html" class="btn btn-neutral float-left" title="6. 畫筆與調色技巧" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

 <div id="disqus_thread"></div> <script> var disqus_config = function () {this.page.url = 'http://gmt-tutorial.org/scatter_plot.html'; this.page.identifier = 'scatter_plot'; }; (function() { var d = document, s = d.createElement('script'); s.src = '//gmt-tutorials.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-19, 鄭懷傑 (Whyjay Zheng)
      <span class="lastupdated">
        最後更新於 12月 10, 2019。
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>
